<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="website_quote_header" inherit_id="sale.sale_order_portal_content" name="quote header">
    <xpath expr="//div[@id='informations']" position="replace">
      <!-- Informations -->
      <div id="informations">
        <div t-if="sale_order.transaction_ids and not invoices and sale_order.state in ('sent', 'sale') and portal_confirmation == 'pay' and not success and not error" t-att-data-order-id="sale_order.id">
          <t t-if="sale_order.transaction_ids">
            <t t-call="payment.payment_confirmation_status">
              <t t-set="payment_tx_id" t-value="sale_order.get_portal_last_transaction()" />
              <t t-set="reference" t-value="sale_order.reference" />
            </t>
          </t>
        </div>
        <div class="row">
          <div class="col-lg-5">
            <strong t-if="sale_order.partner_shipping_id == sale_order.partner_invoice_id" class="d-block">Invoice and Shipping Address:</strong>
            <strong t-if="sale_order.partner_shipping_id != sale_order.partner_invoice_id" class="d-block">Invoicing Address:</strong>
            <address t-field="sale_order.partner_invoice_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}' />
          </div>
          <div class="col-lg-4">
            <div class="mb-3">
              <strong>Date:</strong>
              <span t-field="sale_order.date_order" t-options='{"widget": "date"}' />
            </div>
          </div>
          <div class="col-lg-3">
            <div class="mb-3" t-if="sale_order.validity_date">
              <strong>Expiration Date:</strong>
              <span t-field="sale_order.validity_date" t-options='{"widget": "date"}' />
            </div>
          </div>
        </div>
      </div>
    </xpath>
    <!-- TODO: FIND OUT WHAT THIS IS A PLACEHOLDER FOR -->
    <!-- <xpath expr="//section[@id='terms']" position="before">
      <div class="alert alert-info alert-dismissable" t-ignore="True" role="status">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">&amp;times;</button>
        <p>
          <strong>Template Footer:</strong>
          this content
          will appear on all quotations using this
          template.
        </p>
        <p class="text-muted">
          Titles with style
          <i>Heading 1</i>
          and
          <i>Heading 2</i>
          will be used to generate the
          table of content automatically.
        </p>
      </div>
      <div id="quotation_footer" t-field="sale_order.website_description_footer" class="oe_no_empty" />
    </xpath> -->
    <xpath expr="//section[@id='terms']" position="inside">
      <t t-if="sale_order.terms_page">
        <br />
        <a t-att-href="sale_order.terms_page">Read More...</a>
      </t>
    </xpath>
  </template>
  <!-- <template id="so_template" inherit_id="sale_quotation_builder.so_template" name="quote footer">
    <xpath expr="//section[@id='terms']" position="before">
      <div class="alert alert-info alert-dismissable" t-ignore="True" role="status">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">&amp;times;</button>
        <p>
          <strong>Template Footer:</strong>
          this content
          will appear on all quotations using this
          template.
        </p>
        <p class="text-muted">
          Titles with style
          <i>Heading 1</i>
          and
          <i>Heading 2</i>
          will be used to generate the
          table of content automatically.
        </p>
      </div>
      <div id="template_footer" t-field="template.website_description_footer" class="oe_no_empty" />      
    </xpath>
  </template> -->
</odoo>
